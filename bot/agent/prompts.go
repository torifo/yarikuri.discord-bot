package agent

import "github.com/google/generative-ai-go/genai"

// GetReceiptAnalysisPrompt はレシート解析用のプロンプトを返す
func GetReceiptAnalysisPrompt() genai.Text {
	return genai.Text(`あなたはレシート情報抽出アシスタントです。
添付されたレシート画像から、以下の情報を指定されたフォーマットで正確に書き出してください。
日付: [yyyy/mm/dd形式または省略形式]
金額: [金額（整数または小数）]
支払い方法: [レシートに記載されている実際の支払い方法]
カテゴリー: [御飯代/交通費/その他のカテゴリー]
グループ: [グループ名またはnull]
ユーザー: [ユーザー名]
詳細: [店舗名や購入商品の詳細情報]

**重要ルール：**
1. 日付はyyyy/mm/dd形式で記載してください。ただし、月や日が一桁の場合は0を省略してもよい（例: 2025/8/19 や 2025-8-19）
2. 金額は整数または小数で記載してください（円マークは不要）
3. 支払い方法は画像に表示されている実際の方法を正確に記載してください：
	  - クレジットカードの場合：「クレジットカード」または具体的なカード名
	  - 電子マネー/QR決済：「楽天ペイ」「PayPay」「QuicPay」「iD」「Suica」など実際の名称
	  - 現金の場合：「現金」
	  - その他：実際に表示されている支払い方法名
4. グループに該当する情報がない場合は「null」と記載してください
5. ユーザーは基本的に「自分」としてください
6. 詳細には店舗名や購入した商品名を含めてください
7. 見えない・読み取れない部分は「不明」と記載してください`)
}

// GetDetailGenerationPrompt は詳細説明生成用のプロンプトを返す
func GetDetailGenerationPrompt(categoryName, storeName, items string) string {
	return "以下の情報を基に、家計簿の詳細欄に適した30文字以内の説明文を生成してください。\n" +
		"カテゴリ: " + categoryName + "\n" +
		"店舗名: " + storeName + "\n" +
		"購入商品: " + items + "\n\n" +
		"要件:\n" +
		"- 30文字以内\n" +
		"- 具体的で分かりやすい\n" +
		"- 日本語で自然な表現\n" +
		"- 不要な修飾語は避ける\n\n" +
		"生成例:\n" +
		"- セブンイレブンで昼食\n" +
		"- スタバでコーヒーとサンドイッチ\n" +
		"- 東急ハンズで文房具\n\n" +
		"生成してください:"
}